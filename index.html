<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="tenpha, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="tenpha&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="tenpha&#39;s blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="tenpha&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>tenpha's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">tenpha's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/20/Understanding LSTMs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/20/Understanding LSTMs/" itemprop="url">Understanding LSTMs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-20T14:44:02+08:00">
                2019-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文记录自己对LSTMs网络的理解，从看山是山到看山不是山的过程。  </p>
</blockquote>
<h2 id="1-提要"><a href="#1-提要" class="headerlink" title="1. 提要"></a>1. 提要</h2><p> 我们知道，递归神经网络（RNN）具有一定的记忆能力，能处理时间序列数据。但是RNN却存在着致命的梯度消失和梯度爆炸问题（矩阵高次幂），RNN的变体-LSTMs就是为了在一定程度上缓解梯度消失和爆炸。要真正清楚LSTMs的运作，需要对RNN的概念和网络结构有正确的认识。文章从三个部分介绍LSTMs：</p>
<blockquote>
<ol>
<li>LSTMs 网络结构的概念，主要解释RNN概念和网络结构，再类推介绍LSTMs的网络结构</li>
<li>LSTMs的前向传播</li>
<li>LSTMs的反向传播（BPTT），完整的反向传播公式推导  </li>
</ol>
</blockquote>
<h2 id="2-LSTMs网络结构"><a href="#2-LSTMs网络结构" class="headerlink" title="2. LSTMs网络结构"></a>2. LSTMs网络结构</h2><h3 id="2-1-理解RNN"><a href="#2-1-理解RNN" class="headerlink" title="2.1 理解RNN"></a>2.1 理解RNN</h3><p>认识RNN和LSTMs网络结构强烈建议<a href="http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML16.html" target="_blank" rel="noopener">李宏毅的DL课程</a>，我也是看了课程后才豁然开朗，本文的讲述也多来自课程的引用。<br>我们知道，传统的BP网络训练时每个输入样本相互独立，样本之间并不共享权重，因此在处理时间序列数据时尤为吃力，RNN在BP网络上增加了记忆的能力，也就是说，一个样本的计算会受到之前样本的影响，在RNN中用记忆单元向量a来保存之前样本的影响，RNN能够记忆的特征使其有处理时间序列数据的能力。</p>
<div align="center">    
<img src="https://i.imgur.com/s6zQYuc.png" width="300" alt="RNN1" align="center">
</div>  

<p>在上图中，输入向量\( x=[x_1,x_2]’ \)有两个特征，对于BP网络来说，我们通过输入计算隐藏层的激活值\( a=[a_1,a_2] \)，\( a=[a_1,a_2] \)再通过输出层就能得到预测的输出，或者用\( a=[a_1,a_2] \)作为下一隐藏层的输入，构建更深的BP网络。RNN的大致网络结构也是如此，但是不同的是，RNN中隐藏层计算出的激活值不但会用于在输出层产生输出，还会保存起来给之后的样本训练时使用，可以想象\( a=[a_1,a_2] \)如同一个全局变量贯穿整个RNN的训练。</p>
<div align="center">    
<img src="https://i.imgur.com/JIMn8ue.png" width="500" alt="RNN2" align="center">
</div>

<p>如果将只有单隐藏层的RNN展开来看的话如上图所示，值得注意的是，上图虽然画了很多RNN-cell，但是实际上只有一个cell，这个cell在每个时刻根据不同的样本输入值\( x^{ &lt; t&gt; } \)和之前的记忆值\( a^{&lt; t-1&gt;} \)来计算新的激活值\( a^{&lt; t&gt;} \)，相当于一个cell在循环，只不过每次循环有不同的输入。有了上面的理解，很容易知道在RNN中每个时刻的权重是共享的。<br>下面来看一下这个cell内部的具体细节，它是如何记录保存之前样本的影响的。</p>
<div align="center">    
<img src="https://i.imgur.com/77MCYnC.png" width="500" alt="RNN3" align="center">
</div>

<p>开始时，我们可以将\( a^{<0>} \)初始化为0向量，代表初始时刻没有记忆任何值，在t=1 时刻有了输入\( x^{<1>}\in \mathbb{R}^{n*1} \)时，我们就可以通过\( a^0 \)和\( x^{<1>} \)计算当前时刻的激活值\( a^{<1>} \)，此时\( a^{<1>} \)会通过输出层(图中为softmax层)产生输出，同时也会传递到下一时刻作为输入的一部分。从实际意义也可以理解，\( a^{<1>} \)是通过t=1时刻的样本值\( x^{<1>} \)计算出来的，因此可以在一定程度上代表样本\( x^{<1>} \)，将\( a^{<1>} \)作为t=2时刻输入的一部分，不就意味着\( a^{<2>} \)的计算是考虑了\( x^{<1>} \)的影响。<br>但是在实际中，RNN很难将最前面样本产生的影响传递下去，根据上图第一个公式可以看出这是一个递推式，随着时间步的增加，最前面样本的影响会越来越弱，直到几乎没有，类似于下图所示。同样地在梯度下降的过程中也会出现严重的梯度消失或者梯度爆炸，为缓解这个问题引出了LSTM网络。</1></2></1></1></1></1></1></1></1></1></0></p>
<div align="center">    
<img src="https://i.imgur.com/0lhDB6H.png" width="500" alt="RNN4" align="center">
</div>

<h3 id="2-2-LSTM网络结构"><a href="#2-2-LSTM网络结构" class="headerlink" title="2.2 LSTM网络结构"></a>2.2 LSTM网络结构</h3><p>简单来说，LSTM的整体网络结构与RNN大同小异，但是在cell内部引入了门（gate）的概念，顾名思义就是通过合理的设置门去控制记忆的更新，使得网络在跨越长时间时之前的记忆仍能得到保留。<br>RNN中将记忆值和输出值都用\(a^{&lt; t&gt;} \)来存储，LSTM网络将其分开，用\(C^{&lt; t&gt;} \)存储记忆，\(h^{&lt; t&gt;} \)（也有用\(a^{&lt; t&gt;} \)）表示输出。LSTM cell中用三个门，遗忘门，更新门和输出门来控制\(C^{&lt; t&gt;} \)和\(h^{&lt; t&gt;} \)，三个门的具体作用和公式可以参考<a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener">colah’s blog</a>，写的非常详细清楚。<br>这里给出吴恩达课程中的公式，注意仍然只是一个LSTM cell在循环计算。</p>
<center class="half">    
<img src="https://i.imgur.com/aaJYfa3.png" width="700" alt="RNN4">
</center>

<p>如果忽略LSTM的cell内部细节的话，我们仍然可以将LSTM与BP网络进行对比：  </p>
<table>
    <tr>
        <td><center><img src="https://i.imgur.com/MvxlgVM.png" width="400" alt="BP"> </center></td>
        <td><center><img src="https://i.imgur.com/0EZ78oD.png" width="400" alt="LSTM"></center></td>
    </tr>
</table>

<p>图中，BP网络的激活值a只需要一对权重就能计算出来，即a是\( W_{a},x \)的函数，\( a = f(W_{a},x), x=[x_1,x_2]’\)，而LSTM除了用一组权重与BP一样计算输入，还需要三组权重分别控制遗忘门，更新门和输出门，因此需要四组权重，即\( a = f(W_{a},W_{f},W_{i},W_{o},x), x=[x_1,x_2]’\)。在网络结构相同的情况下，LSTM网络的参数会是RNN的四倍，如果把RNN和LSTM比作电器，那么RNN只需要一根电源线供电就能工作，而LSTM必须要四根电源线才能工作。</p>
<h2 id="3-LSTMs前向传播"><a href="#3-LSTMs前向传播" class="headerlink" title="3.LSTMs前向传播"></a>3.LSTMs前向传播</h2><blockquote>
<p><strong> 符号说明 </strong><br>上标f表示与forget gate有关的值或向量，上标i表示与input gate有关的值或向量,上标o表示与output<br>gate有关的值或向量。<br>上标t表示在第t个时间步。<br>C表示记忆单元 memory cell。<br>h表示LSTM cell的输出（类似隐藏层的输出，结果的输出还要经过输出层）  </p>
</blockquote>
<p>这里将LSTM在两个时刻展开来说明前向传播，下图中的\(h^{t} \)是上面的\(a^{t} \)（吴恩达课程中使用\(a^{t} \)）。\(h^{t} \)，\(x^{t} \)，\(c^{t} \)，\(z^{f} \)，\(z^{i} \)，\( z^{\tilde{ C^t }} \)，\(z^{o} \)，\(y^{t} \)均是向量。</p>
<div align="center">    
<img src="https://i.imgur.com/ONST8aB.png" width="700" alt="RNN4" align="center">
</div> 

<p><strong>1. 输入</strong><br>从2.2节的公式可以看出，\(h^{t-1} \)是通过记忆单元\(c^{t-1} \)计算得到的，\(h^{t-1} \)包含了之前的记忆，将作为输入的一部分。为了方便表达和计算，可以将两部分输入联结在一起\([ h^{t-1},x^{t}] \)，于是我们可以通过输入与权重的乘积再加上其偏置得到\(z^{f^t} \)，\(z^{i^t} \)，\(z^{\tilde{ C^t }} \)，\(z^{o^t} \):  </p>
<script type="math/tex; mode=display">z^{f^t} = W_f*[h^{t-1},x^{t}] + bf</script><script type="math/tex; mode=display">z^{i^t} = W_i*[h^{t-1},x^{t}] + bi</script><script type="math/tex; mode=display">z^{\tilde{ C^t }} = W_C*[h^{t-1},x^{t}] + bC</script><script type="math/tex; mode=display">z^{o^t} = W_o*[h^{t-1},x^{t}] + bo</script><p><strong>2. 门和候选值</strong> \( \tilde{C}\)<br>\(z^{f^t} \)，\(z^{i^t} \)，\(z^{o^t} \)经过sigmoid函数就可得到遗忘门，输入门和输出门，经过sigmoid函数后，门的值都在\([0,1]\)内，可以表示门的开关程度。</p>
<script type="math/tex; mode=display">f^{t} = \sigma(z^{f^t})</script><script type="math/tex; mode=display">i^{t} = \sigma(z^{i^t})</script><script type="math/tex; mode=display">o^{t} = \sigma(z^{o^t})</script><script type="math/tex; mode=display">\tilde{C^t} = tanh(z^{\tilde{ C^t }})</script><p><strong>3. 记忆值更新和输出</strong><br>\( \tilde{C^t} \) 可以看出当前时刻样本产生的影响，但不是所有的影响都能被记忆单元 \( C \)存储起来，\( \tilde{C^t} \)受到输入门\(i^t \)的限制。同样地记忆单元的值也不是全都能输出，受到输出门\(o^t \)的控制。  </p>
<script type="math/tex; mode=display">C^t = f^t*C^{t-1} + i^t*\tilde{C^t}</script><script type="math/tex; mode=display">h^{t}  = o^t*\tanh(C^t)</script><p><strong>4. Deeper&amp;输出层</strong><br>前面说过，\( h^{t} \)类似隐藏层的输出，我们为了得到想要的分类或者预测结果，我们需要（在灰色箭头处）再添加一个输出层，从而产生预测结果\( \tilde{y^{t}} \)。当然，也可以不产生输出，将\( h^{t} \)作为下一隐藏层的输入，构建更深的（deeper）LSTM网络。  </p>
<script type="math/tex; mode=display">\tilde{y^{t}}   = f( W_{yh}*h^t )</script><p>至此我们完成了在t时刻记忆单元的更新，产生了预测的输出（可以计算当前时刻的误差），于是在下一时刻t+1，可以根据t+1的样本值和记忆单元\(C^t\)完成t+1时刻的记忆单元更新和产生输出。依此循环下去就完成了LSTM的前向传播。 </p>
<h2 id="4-LSTMs反向传播"><a href="#4-LSTMs反向传播" class="headerlink" title="4.LSTMs反向传播"></a>4.LSTMs反向传播</h2><p>在LSTM中我们使用BPTT（Back Propagation Through Time）算法更新网络的权重和偏置。如果能正确认识LSTM的网络结构，那么BPTT算法的难点只在于偏导的计算。在RNN中，反向传播时只需计算隐藏状态\( h_{t} \)的误差向前传播，但是在LSTM中我们需要计算两个隐藏状态\( h_{t} \)和\( C_{t} \)的误差。</p>
<p><strong>假设</strong><br>t时刻损失函数为：</p>
<script type="math/tex; mode=display">L(t) =\sum{ (y^t - \tilde{y^t})^2 }</script><p>输出层为：</p>
<script type="math/tex; mode=display">\tilde{y^{t}}   =  W_{yh}*h^t</script><p>现在可以计算到\( h^{t} \)和\( C^{t} \)的误差,值得注意的是，从前向传播的图中可以看到，\( h^{t} \)和\( C^{t} \)的误差来源有两部分，一是通过当前层计算损失函数代价传回的误差\( dh_1^{t}, dC_1^{t} \)，二是下一时间步传回的误差\( dh_2^{t} ,dC_2^{t}\)。</p>
<script type="math/tex; mode=display">dh^t = dh_1^{t} + dh_2^{t}</script><script type="math/tex; mode=display">dC^t = dC_1^{t} + dC_2^{t}</script><p>容易知道在最后一个时间步t = T时，\( dh_2^{t} = 0 ,dC_2^{t} = 0 \)，因此\( h^{t} \)和\( C^{t} \)的误差为：</p>
<script type="math/tex; mode=display">
\begin{align}
&dh^t = dh_1^{t}= (\frac{\partial \tilde{y^t}}{\partial h^t})^T*\frac{\partial L(t)}{\partial \tilde{y^t}} = (-2)*W_{yh}'*(y^t-\tilde{ y^t })\\
&dC^t = dC_1^{t} = (\frac{\partial h^t}{\partial C^t})^T*dh^t = dh^t \odot ot \odot (1-tanh^2(C^t)) 
\end{align}</script><p>有了\( dh^{t} \)和\( dC^{t} \),反向传播计算误差就比较简单了。<br>输出门权重的梯度\( dW_o \)：</p>
<script type="math/tex; mode=display">
\begin{align}
 &dz^{o^t} = (\frac{\partial o^t}{\partial z^{o^t}})^T*(\frac{\partial h^t}{\partial o^t})^T*dh^t = dh^t \odot tanh(C^t) \odot o^t \odot(1-o^t)\\
 &dW_o = (\frac{\partial z^{o^t}}{\partial W_o})^T*dz^{o^t} = dz^{o^t}*[ h^{t-1},x^{t}]'
\end{align}</script><p>输入门权重梯度\( dW_i \),输入的权重的梯度\( dW_C \)：</p>
<script type="math/tex; mode=display">
\begin{align}
 &dz^{\tilde{ C^t }} = (\frac{\partial \tilde{C^t}}{\partial z^{\tilde{ C }}})^T*(\frac{\partial C^t}{\partial \tilde{C^t}})^T*dC^t = dC^t \odot i^t \odot (1-\tilde{C^t}^2) \\
 &dW_C = dz^{\tilde{ C^t }}*[ h^{t-1},x^{t}]'\\
 &dz^{i^t} = dC^t \odot \tilde{c^t} \odot i^t \odot(1-i^t)\\
 &dW_i = dz^{i^t}*[ h^{t-1},x^{t}]'
\end{align}</script><p>遗忘门权重梯度\( dW_f \)：</p>
<script type="math/tex; mode=display">
\begin{align}
dz^{f^t} &= dC^t \odot C^{t-1} \odot f^t \odot (1-f^t)\\
dW_f &= dz^{f^t}*[ h^{t-1},x^{t}]'
\end{align}</script><p>偏置\(db_C\)为\( dz^{\tilde{ C^t }} \)的行方向求和，\(db_o,db_i,db_f\)同理。<br>现在我们需要将t时刻的误差传回t-1时刻更新t-1时刻的权重和偏置，传回t-1时刻的误差，换句话说就是t-1时刻计算时需要的第二部分误差 \( dC^{t-1} \)。</p>
<script type="math/tex; mode=display">
\begin{align}
dh_2^{t-1} &= (\frac{\partial z^{\tilde{ C }}}{\partial h^{t-1}})^T*dz^{\tilde{ C^t }} + (\frac{\partial z^{o^t}}{\partial h^{t-1}})^T*dz^{o^t} + (\frac{\partial z^{i^t}}{\partial h^{t-1}})^T*dz^{i^t}+ (\frac{\partial z^{f^t}}{\partial h^{t-1}})^T*dz^{f^t}\\ 
 &= W_{Ch}'*dz^{\tilde{ C^t }} + W_{oh}'*dz^{o^t} + W_{ih}'*dz^{i^t} + W_{fh}' * dz^{f^t}\\
dC_2^{t-1} &= (\frac{\partial C^t}{\partial C^{t-1}})^T*dC^t\\ &= dC^t \odot f^t
\end{align}</script><p>于是在t-1时刻计算\( dC^{t-1} \)时：\(dC^{t-1} = dC_1^{t-1} + dC_2^{t-1} \)，\( dh^{t-1} \)同理。往回跨越时间的迭代下去即可完成反向传播。</p>
<h2 id="5-参考资料"><a href="#5-参考资料" class="headerlink" title="5.参考资料"></a>5.参考资料</h2><p><a href="http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML16.html" target="_blank" rel="noopener">李宏毅的DL课程</a><br><a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener">colah’s blog</a><br><a href="https://www.chenlongyu.com/article/id/52" title="LSTM - 反向传播的推导" target="_blank" rel="noopener">LSTM - 反向传播的推导</a><br><a href="https://www.cnblogs.com/pinard/p/6519110.html" title="LSTM模型与前向反向传播算法" target="_blank" rel="noopener">LSTM模型与前向反向传播算法</a>  </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/12/keras/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/12/keras/" itemprop="url">keras</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-12T09:10:22+08:00">
                2019-12-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="anaconda-env"><a href="#anaconda-env" class="headerlink" title="anaconda env"></a>anaconda env</h2><ol>
<li>列出所有环境<br><code>conda env list</code></li>
<li>删除环境<br><code>conda env remove -n [envname]</code></li>
<li>创建环境<br><code>conda create --name [envname] python=3.6</code> </li>
<li>激活环境<br><code>activate [envname]</code></li>
<li>退出环境<br><code>deactivate</code></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/19/Krill-Herd-Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/19/Krill-Herd-Algorithm/" itemprop="url">Krill Herd Algorithm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-19T08:47:04+08:00">
                2019-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>如今，仿生算法可以分为三类：  </p>
<ol>
<li>进化算法，GA，DE等</li>
<li>群智能算法，PSO，ACO，以及将要提到的KH</li>
<li>细菌觅食算法，COSMIC  </li>
</ol>
<p>这些仿生算法都是从自然界的生物或者微生物的生存中得到启发，比如GA从达尔文的适者生存法则中得到启发，PSO从生物（鸟）觅食中得到启发，同样KH算法通过对南极磷虾的生存模拟得到一种新的优化算法，KH算法是一种群智能算法。</p>
<h2 id="KHA"><a href="#KHA" class="headerlink" title="KHA"></a>KHA</h2><p>磷虾的运动受到三个因素的影响：</p>
<ol>
<li>诱导运动</li>
<li>觅食运动</li>
<li>随机扩散  </li>
</ol>
<p>解释一下这三种运动或者说是抽象出的数学模型的背景，诱导运动是指一个磷虾个体受到其它磷虾的诱导产生的运动，这里的诱导又有两种因素的诱导：<br>（1）整个群体最优的磷虾产生的目标影响，这种目标诱导使得磷虾往目前全局最优的位置靠近收敛。<br>（2）邻居产生的局部影响，这来源于磷虾的生存环境，由于磷虾容易遭受捕食者的捕捉，因此会抱团行动增加生存的几率，所以磷虾会往邻近的群体靠拢。</p>
<p>磷虾除了躲避捕食者的不足，自身还要进行觅食运动，在算法中的食物是根据全部磷虾位置虚拟出的一个食物位置，磷虾位置的更新也会导致食物位置的更新，食物位置也指导着磷虾的运动方向，最终食物位置会移动到磷虾收敛的位置（食物位置可以假想为所有磷虾位置的平均值，磷虾已经聚集代表算法收敛，那么食物的位置就是磷虾聚集的位置，也就是最优解）。  </p>
<p>优化算法中一定会用到随机化技术，注意不是随机搜索，虽然会加入随机过程，但是是有方向指导的随机，在磷虾算法中，诱导运动和觅食运动指导了磷虾个体的移动方向，随机扩散的加入是让磷虾在运动过程中多一些全局勘探的能力，随机扩散会使得磷虾些许偏离指导方向，但在整体上所有磷虾个体仍会朝着算法期望的方向运动。  </p>
<p>对一个磷虾个体计算完这三个运动分量以后加在一起，就是此磷虾个体在一次迭代中的运动方向，对所有磷虾进行操作就是整个磷虾群在一次迭代的运动方向。</p>
<p>对比最简单的群智能算法PSO，其实可以发现在整体想法上，KH算法与PSO大同小异  </p>
<ol>
<li>都是先随机产生初始随机种群，通过一定的运动指导法则让种群进行更新，最后能达到收敛于最优或者次优的值。PSO的运动法则一步到位，而KH算法用了三个。</li>
<li>指导法则的复杂也带来了好处，多种运动的相互作用使得KH不易于困于局部最优，相比PSO算法来说会具有有更强的全局勘探能力。</li>
<li>PSO与KH都根据了全局与局部影响来更新当前位置，因此他们的结合可能会有比单一算法更好的效果。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/27/关于优化算法在MFAC参数整定的研究/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/27/关于优化算法在MFAC参数整定的研究/" itemprop="url">关于优化算法在MFAC参数整定的研究</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-27T13:48:40+08:00">
                2019-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MFAC/" itemprop="url" rel="index">
                    <span itemprop="name">MFAC</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h3><p>无模型自适应控制是一种数据驱动的控制方法，仅靠输入输出和少量的控制参数就能对复杂非线性的系统进行较好的控制。因此在无模型自适应控制中，选取合理的控制参数λ，ρ，μ，η的值有着十分重要的意义。目前关于MFAC的参数整定已经出现了很多方法，但均没有形成像PID参数整定的系统的整定准则，可以说还处于探索阶段。本文主要介绍利用生物启发式的优化算法来确定MFAC的四个参数。<br>《一种新的无模型自适应控制模型参数整定方法》提出通过设定参数ρ，用遗传算法求解最小适应度函数，得到与ρ与λ，μ，η的关联关系，从而将MFAC的四个参数调整缩小到一个参数，于是能通过控制ρ实现MFAC。<br>《PSO Optimal Control of Model-free Adaptive Controlfor PVC Polymerization Process》提出用粒子群优化算法直接搜索四个参数，并且能达到不错的控制效果。</p>
<h2 id="2-磷虾算法及其优化算法-Krill-Herd-Alg"><a href="#2-磷虾算法及其优化算法-Krill-Herd-Alg" class="headerlink" title="2. 磷虾算法及其优化算法 (Krill Herd Alg)"></a>2. 磷虾算法及其优化算法 (Krill Herd Alg)</h2><h3 id="2-1-磷虾算法"><a href="#2-1-磷虾算法" class="headerlink" title="2.1 磷虾算法"></a>2.1 磷虾算法</h3><blockquote>
<p>既然能通过PSO搜索MFAC的四个参数，那么其它的优化算法是否也行并且达到比PSO更好的效果？  </p>
</blockquote>
<p>磷虾算法是一种生物启发式算法，灵感来源于南极磷虾的生活环境。于2012年论文《Krill herd A new bio-inspired optimization algorithm》中提出。<br>算法的流程和伪代码可参考论文《Chaotic Krill Herd algorithm》中的Krill herd method部分。在MFAC中适应度函数可以设计为：</p>
<blockquote>
<script type="math/tex; mode=display">F(\lambda ,\mu,\rho ,\eta ) =  \sum_{k=1}^{N}(y_{r}(k+1) - y(k+1))^{2}+(u(k) - u(k-1))^{2}+(y(k) - y(k-1))^{2}</script></blockquote>
<p>在设定实际输出与期望输出后，通过MATLAB进行仿真实验，对比KH算法和PSO算法。发现针对上述的MFAC的适应度函数，KH在收敛精度和运行时间上均劣于PSO算法，也就是说，PSO搜索出的最优参数在MFAC的控制效果上，大概率比KH算法具有更好的表现性能，比如稳态误差和上升时间等指标。</p>
<h3 id="2-2-CKH算法"><a href="#2-2-CKH算法" class="headerlink" title="2.2 CKH算法"></a>2.2 CKH算法</h3><blockquote>
<p>但实际上，在Benchmark的表现上KH算法在多峰函数上优于PSO算法，也许有其他方法可以使得KH在MFAC的适应度函数上表现更好的性能。</p>
</blockquote>
<p>混沌磷虾算法(CKH,Chaotic Krill Herd algorithm)于2014年论文《Chaotic Krill Herd algorithm》中提出，主要方法为用混沌映射函数代替KH算法中的随机生成函数，从而更好的搜索全局最优。算法的流程和伪代码可参考论文《Chaotic Krill Herd algorithm》中的The proposed CKH approach部分。<br>适应度函数与上述一样，混沌映射函数使用Logistic Map，a = 3.6。</p>
<blockquote>
<script type="math/tex; mode=display">x_{(k+1)} = ax_{k}(1-x_{k})</script></blockquote>
<p>仿真实验表明，CKH在上述适应度函数搜索中能达到与PSO相差无几的性能，优于KH算法。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/02/Model-free-adaptive-control-for-MEA-based-post-combustion-carbon-capture/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/02/Model-free-adaptive-control-for-MEA-based-post-combustion-carbon-capture/" itemprop="url">Model-free adaptive control for MEA-based post-combustion carbon capture</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-02T11:11:40+08:00">
                2019-10-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Thesis/" itemprop="url" rel="index">
                    <span itemprop="name">Thesis</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ul>
<li><h3 id="作者试图完成什么？"><a href="#作者试图完成什么？" class="headerlink" title="作者试图完成什么？"></a>作者试图完成什么？</h3><blockquote>
<p>对于工厂中的二次燃烧碳捕获（PCC）过程，由于存在着供电的不稳定以及其它扰动因素，传统的PI控制不能满足此流程的灵活性需求。在继PID控制之后，研究者将模型预测控制（MPC）用于PCC过程，并且取得了相当不错的效果，但是MPC需要离线数据去得到预测模型，并且在实际环境中由于扰动可能会造成数据不匹配现象（mismatch），因此需要在实际中调整参数以获得更好性能。<br><strong>针对以上情况，本文中作者提出了用无模型自适应控制（MFAC）算法控制PCC过程，并用仿真结果对MFAC、MPC、PI的控制效果进行了验证。</strong></p>
</blockquote>
</li>
<li><h3 id="这个方法的关键是什么？"><a href="#这个方法的关键是什么？" class="headerlink" title="这个方法的关键是什么？"></a>这个方法的关键是什么？</h3><blockquote>
<p>  <strong>关键在于MFAC的无模型，对比MPC，MFAC不需要离线数据，不需要生成模型，自身能达到在线控制的效果。对比PI控制，简单的调参就能控制系统的稳定性，PI控制的稳定性却是基于模型的。</strong></p>
</blockquote>
</li>
<li><h3 id="换了我自己能用什么其他方法？"><a href="#换了我自己能用什么其他方法？" class="headerlink" title="换了我自己能用什么其他方法？"></a>换了我自己能用什么其他方法？</h3><blockquote>
<p> 暂时没想法</p>
</blockquote>
</li>
<li><h3 id="我还想要什么其他的参考资料？"><a href="#我还想要什么其他的参考资料？" class="headerlink" title="我还想要什么其他的参考资料？"></a>我还想要什么其他的参考资料？</h3><blockquote>
<ol>
<li>MFAC的算法固定，也许需要其他优化MFAC的论文。</li>
<li>The Principle Model (机理模型)</li>
</ol>
</blockquote>
</li>
</ul>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><h3 id="AIC"><a href="#AIC" class="headerlink" title="AIC"></a>AIC</h3><blockquote>
<p>AIC(Akaike Information Criterium,赤池信息准则)，用于对候选模型的选择。一般来说，越为复杂的模型对数据的拟合就越好，但可能发生过拟合（over-fitting），过度拟合了噪音数据，简单的模型有更少的参数，但是模型的准确率可能不理想。如何在候选模型中选出最优的模型，即如何权衡模型的复杂度与准确度，AIC可以帮助我们选出模型。  </p>
</blockquote>
<p>AIC的公式并不复杂，但背后有坚实的信息理论。基本的AIC表达式如下：</p>
<script type="math/tex; mode=display">AIC = ln(s_{m}^{2}) + 2m/T</script><p>$s_{m}^{2} = RSS/T$ ，RSS是残差平方和<a href="https://baike.baidu.com/item/%E6%AE%8B%E5%B7%AE%E5%B9%B3%E6%96%B9%E5%92%8C" target="_blank" rel="noopener">（百度百科）</a>，如果是神经网络的预测模型，那么$RSS = \sum_{t=1}^{T}(\hat{y}(t)-y(t))^{2}$，T是样本数，m是模型的参数数量（包括已经确定的参数）。<br>另一种AIC等价的表示为：</p>
<script type="math/tex; mode=display">AIC=Tln(RSS) + 2K</script><p>K是模型参数的个数，T是样本数。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/19/反向传播中链式求导与误差的理解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/19/反向传播中链式求导与误差的理解/" itemprop="url">反向传播中链式求导与误差的理解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-19T09:51:14+08:00">
                2019-09-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>人工的神经网络可以看成是多个logistic回归的叠加，在用梯度下降求解logistic回归代价函数时，我们直接用偏导的公式得到梯度:  </p>
<script type="math/tex; mode=display">grad = \sum_{i=1}^{m}(h_{(x^{i})}-y^{(i))})x^{i}</script><p>那么对于神经网络来说，即使代价函数更为复杂，我们也可以通过链式求导法则去求得每层参数的梯度，从而完成梯度下降的更新，为什么要引入反向传播算法与误差的概念？<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/09/19/反向传播中链式求导与误差的理解/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/18/Learn-Git-and-Github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tenpha">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tenpha's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/18/Learn-Git-and-Github/" itemprop="url">Learn Git and Github</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-18T20:01:53+08:00">
                2019-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>系统的学习git可以前往<a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">廖雪峰的教程</a>。</p>
<h2 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h2><p>假设已经安装好git，此时我们如何使用git创建版本库来管理我们的项目？打开git bash并且输入以下代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> d:\Code\learngit</span><br><span class="line">git init</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>git init 初始化当前文件夹为一个版本库，于是git可以控制在此文件夹或其子文件夹的内容。（文件夹的内容不需要为空）<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/09/18/Learn-Git-and-Github/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></blockquote></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">tenpha</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tenpha</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
